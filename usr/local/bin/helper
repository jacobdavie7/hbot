#!/bin/bash

# config
    source drawing.sh
    source monitors.sh

# firewalls
    source firewallHome.sh
    source firewallWeb.sh
    source firewallBackup.sh
    source firewallReset.sh
    source firewallWatcher.sh
    source firewallHomeLimited.sh
    source firewallHomeLax.sh

# popular
    source updater.sh

# special
    source install.sh
    source startup.sh

# support
    source usage.sh
    source runSudo.sh
    source firewallPersistentSave.sh

EVEVATE=$(id | grep root | cut -d' ' -f1)
    if [ "$EVEVATE" == "uid=0(root)" ]; then
        EVEVATE=root
    else
        EVEVATE=user
    fi

while getopts "umdsf:iwav" FLAG; do
    case "$FLAG" in
        u)
            runSudo
            updater
            exit
            ;;
        m)
            monitors
            exit
            ;;
        d)
            runSudo
            drawing
            exit
            ;;
        s)
            startup
            exit
            ;;
        f)
            if [ "$OPTARG" == "home" ]; then
                runSudo
                firewallHome
            elif [ "$OPTARG" == "web" ]; then
                firewallWebServer
            elif [ "$OPTARG" == "backup" ]; then
                firewallBackupServer
            elif [ "$OPTARG" == "limited" ]; then
                runSudo
                firewallHomeLimited
            elif [ "$OPTARG" == "reset" ]; then
                runSudo
                firewallReset
            elif [ "$OPTARG" == "lax" ]; then
                runSudo
                firewallHomeLax
            else
                echo -e "\n\e[31mSorry, but '$OPTARG' is not a valid argument. See valid Arugments for option 'firewall' below\e[39m"
                help
            fi
            exit
            ;;
        i)
            install
            exit
            ;;
        w)
            firewallWatcher
            exit
            ;;
    esac
done

usage #calls help function in help.sh file